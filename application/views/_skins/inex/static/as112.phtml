{tmplinclude file="header.phtml"}

{if $user->getPrivs() eq 3}
    <ul class="breadcrumb">
        <li>
            <a href="{genUrl}">Home</a> <span class="divider">/</span>
        </li>
        <li>
            Documentation <span class="divider">/</span>
        </li>
        <li class="active">
            Details of the {$options.identity.orgname} AS112 Service
        </li>
    </ul>
    <div>
{else}
    <div class="page-content">
        <div class="page-header">
            <h1>Details of the {$options.identity.orgname} AS112 Service</h1>
        </div>
{/if}


{OSS_Message}

{if $user->getPrivs() eq 1}
    <div id="overviewMessage">
        {if $as112}
            <div class="alert alert-success">
                You are enabled to use {$options.identity.orgname}'s AS112 service. Please see configuration details below.
            </div>
        {elseif $rsclient and not $as112}
            <div class="alert alert-info">
    	        There are no bilateral BGP sessions configured for you on the AS112 server. However, as
    	        you have route server sessions, you receive the AS112 prefixes via this. If you would like
    	        to additionally enable bilateral peering, please
    	        <a href="{genUrl controller="static" action="contact"}">contact {$options.identity.orgname} Operations</a>.
    	    </div>
        {else}
    	    <div class="alert">
    	        You are not enabled to use {$options.identity.orgname}'s AS112 service. Please
                <a href="{genUrl controller="static" action="contact"}">contact {$options.identity.orgname} Operations</a>
                to enable the AS112 service.
    	    </div>
        {/if}
    </div>
{/if}


<h3>Overview</h3>

<p>
From <a href="http://public.as112.net/">http://public.as112.net/</a>:
</p>

<blockquote>
<p>
Because most answers generated by the Internet's root name server system are negative,
and many of those negative answers are in response to PTR queries for RFC1918, dynamic
DNS updates and other ambiguous addresses, as follows:
</p>

<ul>
    <li> 10.0.0.0/8</li>
    <li> 172.16.0.0/12</li>
    <li> 169.254.0.0/16</li>
    <li> 192.168.0.0/16</li>
</ul>

<p>
There are now separate (non-root) servers for these queries [such as {$options.identity.orgname}'s AS112 service].
</p>

<p>
As a way to distribute the load across the Internet for RFC1918-related queries, we use
IPv4 anycast addressing. The address block is 192.175.48.0/24 and its origin AS is 112.
This address block is advertised from multiple points around the Internet, and these
distributed servers coordinate their responses and back end statistical analyses.
</p>
</blockquote>

<h3>AS112 Services</h3>

<p>
For the benefit of its members, {$options.identity.orgname} hosts an AS112 service which answers bogus
requests to private IP address space.  This service is available as a regular peering
host on our peering LAN(s). The table below lists the available peering points.
</p>

<div class="row-fluid">
    <div class="{if $multiIXP}span8{else}span5{/if}">
        <table class="table table-condensed">
        
        <thead>
            <tr>
                {if $multiIXP}
                    <th><strong>IXP</strong></th>
                {/if}
                <th><strong>Infrastructure</strong></th>
                <th><strong>VLAN</strong></th>
                <th><strong>IP</strong></th>
            </tr>
        </thead>
        
        {foreach $as112services as $s}
            <tbody>
                <tr>
                    {if $multiIXP}
                        <td>{$s.ixp}</td>
                    {/if}
                        <td>{$s.infra}</td>
                        <td>{$s.vlan}</td>
                        <td>{$s.ip}</td>
                </tr>
            </tbody>
        {/foreach}
        
        </table>
    </div>
</div>

<div class="alert alert-info">
    To arrange a peering session with any of the above, please
    <a href="{genUrl controller="static" action="support"}">contact our support team</a>.
</div>

<h3>Configuration Details</h3>

<p>
For Cisco routers, you will need something like the following example BGP configuration for peering LAN #1:
</p>

<pre>
    router bgp 99999

     ! {$options.identity.orgname} Peering LAN #1

     neighbor 193.242.111.6 remote-as 112
     neighbor 193.242.111.6 description {$options.identity.orgname} AS112 Service
     address-family ipv4
     neighbor 193.242.111.6 password s00persekr1t
     neighbor 193.242.111.6 activate
     neighbor 193.242.111.6 filter-list 100 out

</pre>

<p>
You should also use <code>route-maps</code> (or <code>distribute-lists</code>) to control
outgoing prefix announcements to allow only the prefixes which you indend to announce.
</p>

<h3>More Information on the AS112 Project</h3>

<p>
Please see <a href="http://public.as112.net/">http://public.as112.net/</a> for more information
on the AS112 project, <em>The Nameservers at the End of the Universe</em>.
</p>

</div>

{tmplinclude file="footer.phtml"}
